{"version":3,"sources":["config.js","auth/index.js","text.js","core/Menu.jsx","core/cartHelpers.js","core/Layout.jsx","user/Signin.jsx","user/Signup.jsx","core/apiCore.js","core/ShowImage.jsx","core/Card.jsx","core/Search.jsx","core/Home.jsx","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.jsx","admin/apiAdmin.jsx","admin/AddCategory.jsx","admin/AddProduct.jsx","admin/UpdateProduct.jsx","admin/Orders.jsx","core/Checkbox.jsx","core/RadioBox.jsx","core/fixedPrices.js","core/Shop.jsx","core/Product.jsx","core/Checkout.jsx","core/Cart.jsx","user/Profile.jsx","admin/ManageProducts.jsx","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","norwegian","inStock","outOfStock","removeProduct","addToCart","adjustQuantity","yourCartHas","items","viewProduct","yourCartSummary","signInToCheckout","deliveryAddress","successPayment","bestsellers","newArrivals","signIn","singOut","shop","cart","dashboard","home","signup","relatedProducts","search","filterByCategories","filterByPrice","products","name","email","password","phone","submit","profileUpdate","repeatPassword","userInformation","productName","productPrice","purchasedDate","isActive","history","path","location","pathname","color","withRouter","_ref","react_default","a","createElement","className","react_router_dom","style","to","length","user","role","react","cursor","onClick","next","removeItem","fetch","concat","method","then","response","console","log","catch","err","signout","push","Layout","_ref$title","title","_ref$description","description","children","core_Menu","Signin","_useState","useState","error","loading","redirectToReferrer","_useState2","Object","slicedToArray","values","setValues","handleChange","event","objectSpread","defineProperty","target","value","clickSubmit","preventDefault","headers","Accept","Content-Type","body","stringify","json","data","setItem","authenticate","core_Layout","display","onChange","type","react_router","Signup","passwordRepeat","success","getProducts","sortBy","getCategories","getFilteredProducts","skip","limit","filters","arguments","undefined","ShowImage","item","url","src","_id","alt","maxHeight","maxWidth","Card","product","_ref$showViewProductB","showViewProductButton","_ref$showAddToCartBut","showAddToCartButton","_ref$cartUpdate","cartUpdate","_ref$showRemoveProduc","showRemoveProductButton","redirect","setRedirect","_useState3","count","_useState4","setCount","Array","from","Set","map","p","id","find","addItem","productId","i","updateItem","shouldRedirect","core_ShowImage","substring","price","category","quantity","showViewButton","showAddToCart","splice","showRemoveButton","showCartUpdateOptions","Search","categories","results","searched","setData","useEffect","searchData","params","query","queryString","list","searchSubmit","e","_objectSpread2","onSubmit","key","placeholder","border","searchMessage","core_Card","searchedProducts","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","_useState5","_useState6","setError","core_Search","bestsellersÃŸ","PrivateRoute","Component","component","rest","objectWithoutProperties","assign","render","props","state","Dashboard","setHistory","_isAuthenticated$user","token","init","userId","Authorization","getPurchaseHistory","h","moment","createdAt","fromNow","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","_isAuthenticated","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createProduct","redirectToProfile","formData","createdProduct","FormData","files","set","accept","c","UpdateProduct","match","updatedProduct","getProduct","initCategories","updateProduct","redirectUser","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","transaction_id","amount","address","pIndex","padding","Checkbox","handleFilters","checked","setChecked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","toConsumableArray","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","_useState7","_useState8","_useState9","_useState10","setSkip","_useState11","_useState12","size","setSize","_useState13","_useState14","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","core_Checkbox","core_RadioBox","Product","relatedProduct","setRelatedProduct","setProduct","loadSingleProduct","read","Checkout","clientToken","instance","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","processPayment","createOrderData","transaction","order","createOrder","message","showDropIn","onBlur","lib_default","options","authorization","paypal","flow","onInstance","Cart","setItems","showItems","core_Checkout","Profile","update","auth","updateUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","Routes","exact","auth_PrivateRoute","auth_AdminRoute","ReactDOM","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.4f11ae65.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;\n","import { API } from \"../config\";\n\nexport const signup = user => {\n  return fetch(`${API}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const signin = user => {\n  return fetch(`${API}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = next => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"jwt\");\n    next();\n    return fetch(`${API}/signout`, {\n      method: \"GET\"\n    })\n      .then(response => {\n        console.log(\"signout\", response);\n      })\n      .catch(err => console.log(err));\n  }\n};\n\nexport const isAuthenticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};\n","export const norwegian = {\n  inStock: \"PÃ¥ lager\",\n  outOfStock: \"Utsolgt\",\n  removeProduct: \"Fjern produkt\",\n  addToCart: \"Legg i handlekurv\",\n  adjustQuantity: \"Juster antall\",\n  yourCartHas: \"Din handlekurv har\",\n  items: \"vare(r)\",\n  viewProduct: \"Se produkt\",\n  yourCartSummary: \"Din handlekurv sammendrag\",\n  signInToCheckout: \"Logg inn til kassen\",\n  deliveryAddress: \"Leveringsadresse\",\n  successPayment: \"Takk, betalingen din var vellykket\",\n  bestsellers: \"Best Selgere\",\n  newArrivals: \"Nyankomne\",\n  signIn: \"Logg inn\",\n  singOut: \"Logg ut\",\n  shop: \"Butikk\",\n  cart: \"Kurven\",\n  dashboard: \"Dashbord\",\n  home: \"Hjem\",\n  signup: \"Melde deg pÃ¥\",\n  relatedProducts: \"Relaterte produkter\",\n  search: \"SÃ¸ke\",\n  filterByCategories: \"Filtrer etter kategorier\",\n  filterByPrice: \"Filtrer etter prisklasse\",\n  products: \"Produkter\",\n  name: \"Navn\",\n  email: \"e-post\",\n  password: \"Passord\",\n  phone: \"Telefon\",\n  submit: \"Sende inn\",\n  profileUpdate: \"Profiloppdatering\",\n  repeatPassword: \"Gjenta passord\",\n  userInformation: \"Brukerinformasjon\",\n  productName: \"Produktnavn: \",\n  productPrice: \"Produktpris: \",\n  purchasedDate: \"KjÃ¸pt dato: \"\n};\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"../auth\";\nimport { itemTotal } from \"./cartHelpers\";\nimport { norwegian } from \"../text\";\n\nconst isActive = (history, path) => {\n  if (history.location.pathname === path) {\n    return { color: \"#ff9900\" };\n  } else {\n    return { color: \"#FFFFFF\" };\n  }\n};\n\nconst Menu = ({ history }) => (\n  <div>\n    <ul className=\"nav nav-tabs bg-primary\">\n      <li className=\"nav-item\">\n        <Link className=\"nav-link\" style={isActive(history, \"/\")} to=\"/\">\n          {norwegian.home}\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link\"\n          style={isActive(history, \"/shop\")}\n          to=\"/shop\"\n        >\n          {norwegian.shop}\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link\n          className=\"nav-link\"\n          style={isActive(history, \"/cart\")}\n          to=\"/cart\"\n        >\n          {norwegian.cart}\n          <sup>\n            <small className=\"cart-badge\">{itemTotal()}</small>\n          </sup>\n        </Link>\n      </li>\n\n      {isAuthenticated() && isAuthenticated().user.role === 0 && (\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            style={isActive(history, \"/user/dashboard\")}\n            to=\"/user/dashboard\"\n          >\n            {norwegian.dashboard}\n          </Link>\n        </li>\n      )}\n\n      {isAuthenticated() && isAuthenticated().user.role === 1 && (\n        <li className=\"nav-item\">\n          <Link\n            className=\"nav-link\"\n            style={isActive(history, \"/admin/dashboard\")}\n            to=\"/admin/dashboard\"\n          >\n            {norwegian.dashboard}\n          </Link>\n        </li>\n      )}\n\n      {!isAuthenticated() && (\n        <Fragment>\n          {\" \"}\n          <li className=\"nav-item\">\n            <Link\n              className=\"nav-link\"\n              style={isActive(history, \"/signin\")}\n              to=\"/signin\"\n            >\n              {norwegian.signIn}\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link\n              className=\"nav-link\"\n              style={isActive(history, \"/signup\")}\n              to=\"/signup\"\n            >\n              {norwegian.signup}\n            </Link>\n          </li>\n        </Fragment>\n      )}\n      {isAuthenticated() && (\n        <div>\n          <li className=\"nav-item\">\n            <span\n              className=\"nav-link\"\n              style={{ cursor: \"pointer\", color: \"#ffffff\" }}\n              onClick={() =>\n                signout(() => {\n                  history.push(\"/\");\n                })\n              }\n            >\n              {norwegian.singOut}\n            </span>\n          </li>\n        </div>\n      )}\n    </ul>\n  </div>\n);\n\nexport default withRouter(Menu);\n","export const addItem = (item, next) => {\n  let cart = [];\n\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.push({\n      ...item,\n      count: 1\n    });\n\n    cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n      return cart.find(p => p._id === id);\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const itemTotal = () => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\")).length;\n    }\n  }\n  return 0;\n};\n\nexport const getCart = () => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n  return [];\n};\n\nexport const updateItem = (productId, count) => {\n  let cart = [];\n\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart[i].count = count;\n      }\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n};\n\nexport const removeItem = productId => {\n  let cart = [];\n\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart.splice(i, 1);\n      }\n    });\n\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const emptyCart = next => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"cart\");\n    next();\n  }\n};\n","import React from \"react\";\nimport Menu from \"./Menu\";\nimport \"../styles.css\";\n\nconst Layout = ({\n  title = \"Title\",\n  description = \"Description\",\n  className,\n  children\n}) => (\n  <div>\n    <Menu />\n    <div className=\"jumbotron\">\n      <h2>{title}</h2>\n      <p className=\"lead\">{description}</p>\n    </div>\n    <div className={className}>{children} </div>\n  </div>\n);\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\nimport { norwegian } from \"../text\";\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    loading: false,\n    redirectToReferrer: false\n  });\n\n  const { email, password, loading, error, redirectToReferrer } = values;\n  const { user } = isAuthenticated();\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, loading: false });\n      } else {\n        authenticate(data, () => {\n          setValues({\n            ...values,\n            redirectToReferrer: true\n          });\n        });\n      }\n    });\n  };\n\n  const singUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Email</label>\n        <input\n          onChange={handleChange(\"email\")}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.password}</label>\n        <input\n          onChange={handleChange(\"password\")}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\n        {norwegian.submit}\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"alert alert-info\">\n        <h2>Loading...</h2>\n      </div>\n    );\n\n  const redirectUser = () => {\n    if (redirectToReferrer) {\n      if (user && user.role === 1) {\n        return <Redirect to=\"/admin/dashboard\" />;\n      } else {\n        return <Redirect to=\"/user/dashboard\" />;\n      }\n    }\n    if (isAuthenticated()) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  return (\n    <Layout\n      title=\"Signin\"\n      description=\"Sign up to QMI web shop\"\n      className=\"container col-md-8 offset-md-2\"\n    >\n      {showLoading()}\n      {showError()}\n      {singUpForm()}\n      {redirectUser()}\n    </Layout>\n  );\n};\n\nexport default Signin;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signup } from \"../auth\";\nimport { norwegian } from \"../text\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordRepeat: \"\",\n    phone: \"\",\n    error: \"\",\n    success: false\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const {\n    name,\n    email,\n    password,\n    passwordRepeat,\n    success,\n    phone,\n    error\n  } = values;\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    signup({ name, email, password, phone }).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error, success: false });\n      } else {\n        setValues({\n          ...values,\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          passwordRepeat: \"\",\n          phone: \"\",\n          error: \"\",\n          success: true\n        });\n      }\n    });\n  };\n\n  const passwordsDontMatch = () => (\n    <div className=\"alert alert-info\">Passwords don't match</div>\n  );\n\n  const singUpForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.name}</label>\n        <input\n          onChange={handleChange(\"name\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.email}</label>\n        <input\n          onChange={handleChange(\"email\")}\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.phone}</label>\n        <input\n          onChange={handleChange(\"phone\")}\n          type=\"phone\"\n          className=\"form-control\"\n          value={phone}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.password}</label>\n        <input\n          onChange={handleChange(\"password\")}\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.repeatPassword}</label>\n        <input\n          onChange={handleChange(\"passwordRepeat\")}\n          type=\"password\"\n          className=\"form-control\"\n          value={passwordRepeat}\n        />\n      </div>\n      {passwordRepeat !== \"\" && password !== passwordRepeat\n        ? passwordsDontMatch()\n        : \"\"}\n\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\n        Submit\n      </button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? \"\" : \"none\" }}\n    >\n      New account is created. Please <Link to=\"/signin\">Signin</Link>\n    </div>\n  );\n\n  return (\n    <Layout\n      title=\"Signup\"\n      description=\"Sign up to QMI web shop\"\n      className=\"container col-md-8 offset-md-2\"\n    >\n      {showSuccess()}\n      {showError()}\n      {singUpForm()}\n    </Layout>\n  );\n};\n\nexport default Signup;\n","import { API } from \"../config\";\nimport queryString from \"query-string\";\n\nexport const getProducts = sortBy => {\n  return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n  const data = {\n    limit,\n    skip,\n    filters\n  };\n\n  return fetch(`${API}/products/by/search`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const list = params => {\n  const query = queryString.stringify(params);\n\n  return fetch(`${API}/products/search?${query}`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const read = productId => {\n  return fetch(`${API}/product/${productId}`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const listRelated = productId => {\n  return fetch(`${API}/products/related/${productId}`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n  return fetch(`${API}/braintree/getToken/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n  return fetch(`${API}/braintree/payment/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(paymentData)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n  return fetch(`${API}/order/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ order: createOrderData })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React from \"react\";\nimport { API } from \"../config\";\n\nconst ShowImage = ({ item, url }) => (\n  <div className=\"product-img\">\n    <img\n      src={`${API}/${url}/photo/${item._id}`}\n      alt={item.name}\n      className=\"mb-3\"\n      style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n    />\n  </div>\n);\n\nexport default ShowImage;\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\nimport { norwegian } from \"../text\";\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const showViewButton = showViewProductButton => {\n    return (\n      showViewProductButton && (\n        <Link to={`/product/${product._id}`} className=\"mr-2\">\n          <button className=\"btn btn-outline-primary mr-2 mb-2\">\n            {norwegian.viewProduct}\n          </button>\n        </Link>\n      )\n    );\n  };\n\n  const addToCart = () => {\n    addItem(product, () => {\n      setRedirect(true);\n    });\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = showAddToCartButton => {\n    return (\n      showAddToCartButton && (\n        <button\n          onClick={addToCart}\n          className=\"btn btn-outline-warning mt-2 mb-2\"\n        >\n          {norwegian.addToCart}\n        </button>\n      )\n    );\n  };\n\n  const showRemoveButton = showRemoveProductButton => {\n    return (\n      showRemoveProductButton && (\n        <button\n          onClick={() => removeItem(product._id)}\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n        >\n          {norwegian.removeProduct}\n        </button>\n      )\n    );\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill\">\n        {norwegian.inStock}\n      </span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill\">\n        {norwegian.outOfStock}\n      </span>\n    );\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return (\n      cartUpdate && (\n        <div>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">\n                {norwegian.adjustQuantity}\n              </span>\n            </div>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              value={count}\n              onChange={handleChange(product._id)}\n            />\n          </div>\n        </div>\n      )\n    );\n  };\n\n  const handleChange = productId => event => {\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header name\">{product.name}</div>\n      <div className=\"card-body\">\n        {shouldRedirect(redirect)}\n        <ShowImage item={product} url=\"product\" />\n        <p className=\"lead mt-2\">{product.description.substring(0, 100)}</p>\n        <p className=\"black-10\"> {product.price} NOK</p>\n        <p className=\"black-9\">\n          Category: {product.category && product.category.name}\n        </p>\n\n        {showStock(product.quantity)}\n        <br />\n\n        {showViewButton(showViewProductButton)}\n\n        {showAddToCart(showAddToCartButton)}\n\n        {showRemoveButton(showRemoveProductButton)}\n\n        {showCartUpdateOptions(cartUpdate)}\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\nimport { getCategories, list } from \"./apiCore\";\nimport Card from \"./Card\";\nimport { norwegian } from \"../text\";\n\nconst Search = () => {\n  const [data, setData] = useState({\n    categories: [],\n    category: \"\",\n    search: \"\",\n    results: [],\n    searched: false\n  });\n\n  const { categories, category, search, results, searched, error } = data;\n\n  const loadCategories = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setData({ ...data, categories: data });\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const searchData = () => {\n    if (search) {\n      list({ search: search || undefined, category: category }).then(\n        response => {\n          if (response.error) {\n            console.log(response.error);\n          } else {\n            setData({ ...data, results: response, searched: true });\n          }\n        }\n      );\n    }\n  };\n\n  const searchSubmit = e => {\n    e.preventDefault();\n\n    searchData();\n  };\n\n  const handleChange = name => event => {\n    setData({ ...data, [name]: event.target.value, searched: false });\n  };\n\n  const searchForm = () => (\n    <form onSubmit={searchSubmit}>\n      <span className=\"input-group-text\">\n        <div className=\"input-group input-group-lg \">\n          <div className=\"input-group-prepend\">\n            <select className=\"btn mr-2\" onChange={handleChange(\"category\")}>\n              <option value=\"All\">Alle</option>\n              {categories.map((category, i) => (\n                <option key={i} value={category._id}>\n                  {category.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          <input\n            type=\"search\"\n            className=\"form-control\"\n            onChange={handleChange(\"search\")}\n            placeholder=\"Search by name\"\n          />\n        </div>\n        <div className=\"btn input-group-append\" style={{ border: \"none\" }}>\n          <button className=\"input-group-text\">{norwegian.search}</button>\n        </div>\n      </span>\n    </form>\n  );\n\n  const searchMessage = (searched, results) => {\n    if (searched && results.length > 0) {\n      return `Found ${results.length} products`;\n    }\n    if (searched && results.length < 1) {\n      return `No products found`;\n    }\n  };\n\n  const searchedProducts = (results = []) => {\n    return (\n      <div>\n        <h2 className=\"mt-4 mb-4\">{searchMessage(searched, results)}</h2>\n        <div className=\"row\">\n          {results.map((product, i) => (\n            <Card key={i} product={product} />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"container mb-3\">{searchForm()}</div>\n      <div className=\"container-fluid mb-3\">{searchedProducts(results)}</div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { getProducts } from \"./apiCore\";\nimport Card from \"./Card\";\nimport Search from \"./Search\";\nimport { norwegian } from \"../text\";\n\nconst Home = () => {\n  const [productsBySell, setProductsBySell] = useState([]);\n  const [productsByArrival, setProductsByArrival] = useState([]);\n  const [error, setError] = useState(false);\n\n  const loadProductsBySell = () => {\n    getProducts(\"sold\").then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsBySell(data);\n      }\n    });\n  };\n\n  const loadProductsByArrival = () => {\n    getProducts(\"ceratedAt\").then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProductsByArrival(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProductsByArrival();\n    loadProductsBySell();\n  }, []);\n\n  return (\n    <Layout\n      title=\"Home Page\"\n      description=\"Qmi Products Web Shop\"\n      className=\"container-fluid\"\n    >\n      <Search />\n      <h2 className=\"mb-4\">{norwegian.newArrivals}</h2>{\" \"}\n      <div className=\"row\">\n        {productsByArrival.map((product, i) => (\n          <div key={i} className=\"col-4 mb-3\">\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n      <h2 className=\"mb-4\">{norwegian.bestsellersÃŸ}</h2>\n      <div className=\"row\">\n        {productsBySell.map((product, i) => (\n          <div key={i} className=\"col-4 mb-3\">\n            <Card product={product} />\n          </div>\n        ))}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\n        />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\nimport { norwegian } from \"../text\";\n\nconst Dashboard = () => {\n  const [history, setHistory] = useState([]);\n\n  const {\n    user: { _id, name, email, role }\n  } = isAuthenticated();\n\n  const token = isAuthenticated().token;\n\n  const init = (userId, token) => {\n    getPurchaseHistory(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setHistory(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(_id, token);\n  }, []);\n\n  const userLinks = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header\">User Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/cart\">\n              {norwegian.cart}\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to={`/profile/${_id}`}>\n              {norwegian.profileUpdate}\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const userInfo = () => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">{norwegian.userInformation}</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">{name}</li>\n          <li className=\"list-group-item\">{email}</li>\n          <li className=\"list-group-item\">\n            {role === 1 ? \"Admin\" : \"Registered user\"}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const purchaseHistory = history => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">Purchase history</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            {history.map((h, i) => {\n              return (\n                <div>\n                  <hr />\n                  {h.products.map((p, i) => {\n                    return (\n                      <div key={i}>\n                        <h6>\n                          {norwegian.productName}: {p.name}\n                        </h6>\n                        <h6>\n                          {norwegian.productPrice}\n                          {p.price} NOK\n                        </h6>\n                        <h6>\n                          {norwegian.purchasedDate}\n                          {moment(p.createdAt).fromNow()}\n                        </h6>\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <Layout\n      title=\"Dashboard\"\n      description={`Good day ${name}!`}\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-3\"> {userLinks()} </div>\n        <div className=\"col-9\">\n          {userInfo()} {purchaseHistory(history)}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Dashboard;\n","import { API } from \"../config\";\n\nexport const read = (userId, token) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n  return fetch(`${API}/user/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n  if (typeof window !== \"undefined\") {\n    if (localStorage.getItem(\"jwt\")) {\n      let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n      auth.user = user;\n      localStorage.setItem(\"jwt\", JSON.stringify(auth));\n      next();\n    }\n  }\n};\n\nexport const getPurchaseHistory = (userId, token) => {\n  return fetch(`${API}/orders/by/user/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated() && isAuthenticated().user.role === 1 ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{ pathname: \"/signin\", state: { from: props.location } }}\n        />\n      )\n    }\n  />\n);\n\nexport default AdminRoute;\n","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashboard = () => {\n  const {\n    user: { name, email, role }\n  } = isAuthenticated();\n\n  const adminLinks = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header\">Admin Links</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/category\">\n              Create Category\n            </Link>\n          </li>\n\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/create/product\">\n              Create Product\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/orders\">\n              List orders\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link className=\"nav-link\" to=\"/admin/products\">\n              Manage Products\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const adminInfo = () => {\n    return (\n      <div className=\"card mb-5\">\n        <h3 className=\"card-header\">Admin Information</h3>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">{name}</li>\n          <li className=\"list-group-item\">{email}</li>\n          <li className=\"list-group-item\">\n            {role === 1 ? \"Admin\" : \"Registered user\"}\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  return (\n    <Layout\n      title=\"Dashboard\"\n      description={`Good day ${name}!`}\n      className=\"container\"\n    >\n      <div className=\"row\">\n        <div className=\"col-3\"> {adminLinks()} </div>\n        <div className=\"col-9\">{adminInfo()}</div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default AdminDashboard;\n","import { API } from \"../config\";\n\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const createProduct = (userId, token, product) => {\n  return fetch(`${API}/product/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const listOrders = (userId, token) => {\n  return fetch(`${API}/order/list/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n  return fetch(`${API}/order/status-values/${userId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n  return fetch(`${API}/order/${orderId}/status/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ status, orderId })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProducts = () => {\n  return fetch(`${API}/products?limit=undefined`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const getProduct = productId => {\n  return fetch(`${API}/product/${productId}`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const updateProduct = (productId, userId, token, product) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React, { useState } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { createCategory } from \"./apiAdmin\";\n\nconst AddCategory = () => {\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAuthenticated();\n\n  const handleChange = e => {\n    setError(\"\");\n    setName(e.target.value);\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n\n    createCategory(user._id, token, { name }).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n      }\n    });\n  };\n\n  const newCategoryForm = () => (\n    <form onSubmit={clickSubmit}>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          onChange={handleChange}\n          value={name}\n          autoFocus\n          required\n        />\n      </div>\n      <button className=\"btn btn-outline-primary\">Create Category</button>\n    </form>\n  );\n\n  const showSuccess = () => {\n    if (success) {\n      return <h3 className=\"text-success\">{name} is created </h3>;\n    }\n  };\n\n  const showError = () => {\n    if (error) {\n      return <h3 className=\"text-danger\">Category should be unique</h3>;\n    }\n  };\n\n  const goBack = () => (\n    <div className=\"mt-5\">\n      <Link to=\"/admin/dashboard\" className=\"text-warning\">\n        Back to Dashboard\n      </Link>\n    </div>\n  );\n\n  return (\n    <Layout\n      title=\"Add a new category\"\n      description={`Good day ${user.name}, ready to add a new category?`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showSuccess()}\n          {showError()}\n          {newCategoryForm()}\n          {goBack()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default AddCategory;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { createProduct, getCategories } from \"./apiAdmin\";\n\nconst AddProduct = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    categories: [],\n    category: \"\",\n    shipping: \"\",\n    quantity: \"\",\n    photo: \"\",\n    loading: false,\n    error: \"\",\n    createProduct: \"\",\n    redirectToProfile: false,\n    formData: \"\"\n  });\n\n  const { user, token } = isAuthenticated();\n\n  const {\n    name,\n    description,\n    price,\n    categories,\n    quantity,\n    loading,\n    error,\n    createdProduct,\n    formData\n  } = values;\n\n  const init = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ ...values, categories: data, formData: new FormData() });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init();\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n\n    createProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          name: \"\",\n          description: \"\",\n          photo: \"\",\n          price: \"\",\n          quantity: \"\",\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const newPostForm = () => (\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\n      <h4>Post Photo</h4>\n      <div className=\"form-group\">\n        <label className=\"btn btn-secondary\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange(\"name\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Description</label>\n        <textarea\n          onChange={handleChange(\"description\")}\n          className=\"form-control\"\n          value={description}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Price</label>\n        <input\n          onChange={handleChange(\"price\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={price}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Category</label>\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, i) => (\n              <option key={i} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Quantity</label>\n        <input\n          onChange={handleChange(\"quantity\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={quantity}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Shipping</label>\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\n          <option>Please select</option>\n          <option value=\"0\">No</option>\n          <option value=\"1\">Yes</option>\n        </select>\n      </div>\n      <button className=\"btn btn-outline-primary\">Create Product</button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: createdProduct ? \"\" : \"none\" }}\n    >\n      <h2>{`${createdProduct}`} is created</h2>\n    </div>\n  );\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"alert alert-success\">\n        <h2>Loading ... </h2>\n      </div>\n    );\n\n  return (\n    <Layout\n      title=\"Add a new product\"\n      description={`Good day ${user.name}, ready to add a new product?`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showLoading()}\n          {showSuccess()}\n          {showError()}\n          {newPostForm()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default AddProduct;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\n\nconst UpdateProduct = ({ match }) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    categories: [],\n    category: \"\",\n    shipping: \"\",\n    quantity: \"\",\n    photo: \"\",\n    loading: false,\n    error: \"\",\n    createProduct: \"\",\n    redirectToProfile: false,\n    formData: \"\"\n  });\n\n  const { user, token } = isAuthenticated();\n\n  const {\n    name,\n    description,\n    price,\n    categories,\n    quantity,\n    loading,\n    error,\n    updatedProduct,\n    redirectToProfile,\n    formData\n  } = values;\n\n  const init = productId => {\n    getProduct(productId).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          name: data.name,\n          description: data.description,\n          price: data.price,\n          category: data.category._id,\n          shipping: data.shipping,\n          quantity: data.quantity,\n\n          formData: new FormData()\n        });\n        initCategories();\n      }\n    });\n  };\n\n  const initCategories = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ categories: data, formData: new FormData() });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.productId);\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const clickSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n\n    updateProduct(match.params.productId, user._id, token, formData).then(\n      data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            description: \"\",\n            photo: \"\",\n            price: \"\",\n            quantity: \"\",\n            loading: false,\n            redirectToProfile: true,\n            updatedProduct: data.name\n          });\n        }\n      }\n    );\n  };\n\n  const newPostForm = () => (\n    <form className=\"mb-3\" onSubmit={clickSubmit}>\n      <h4>Post Photo</h4>\n      <div className=\"form-group\">\n        <label className=\"btn btn-secondary\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image/*\"\n          />\n        </label>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Name</label>\n        <input\n          onChange={handleChange(\"name\")}\n          type=\"text\"\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Description</label>\n        <textarea\n          onChange={handleChange(\"description\")}\n          className=\"form-control\"\n          value={description}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Price</label>\n        <input\n          onChange={handleChange(\"price\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={price}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Category</label>\n        <select onChange={handleChange(\"category\")} className=\"form-control\">\n          <option>Please select</option>\n          {categories &&\n            categories.map((c, i) => (\n              <option key={i} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Quantity</label>\n        <input\n          onChange={handleChange(\"quantity\")}\n          type=\"number\"\n          className=\"form-control\"\n          value={quantity}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">Shipping</label>\n        <select onChange={handleChange(\"shipping\")} className=\"form-control\">\n          <option>Please select</option>\n          <option value=\"0\">No</option>\n          <option value=\"1\">Yes</option>\n        </select>\n      </div>\n      <button className=\"btn btn-outline-primary\">Update Product</button>\n    </form>\n  );\n\n  const showError = () => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = () => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: updatedProduct ? \"\" : \"none\" }}\n    >\n      <h2>{`${updatedProduct}`} is updated</h2>\n    </div>\n  );\n\n  const redirectUser = () => {\n    if (redirectToProfile) {\n      if (!error) {\n        return <Redirect to=\"/\" />;\n      }\n    }\n  };\n\n  const showLoading = () =>\n    loading && (\n      <div className=\"alert alert-success\">\n        <h2>Loading ... </h2>\n      </div>\n    );\n\n  return (\n    <Layout\n      title=\"Add a new product\"\n      description={`Good day ${user.name}, ready to add a new product?`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showLoading()}\n          {showSuccess()}\n          {showError()}\n          {newPostForm()}\n          {redirectUser()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default UpdateProduct;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\nimport moment from \"moment\";\n\nconst Orders = () => {\n  const [orders, setOrders] = useState([]);\n  const [statusValues, setStatusValues] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadOrders = () => {\n    listOrders(user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setOrders(data);\n      }\n    });\n  };\n\n  const loadStatusValues = () => {\n    getStatusValues(user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setStatusValues(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadOrders();\n    loadStatusValues();\n  }, []);\n\n  const showOrdersLength = () => {\n    if (orders.length > 0) {\n      return (\n        <h1 className=\"text-danger display-2\">Total orders: {orders.length}</h1>\n      );\n    } else {\n      return <h1 className=\"text-danger\">No orders</h1>;\n    }\n  };\n\n  const showInput = (key, value) => (\n    <div className=\"input-group mb-2 mr-sm-2\">\n      <div className=\"input-group-prepend\">\n        <div className=\"input-group-text\">{key}</div>\n      </div>\n      <input type=\"text\" value={value} className=\"form-control\" readOnly />\n    </div>\n  );\n\n  const handleStatusChange = (e, orderId) => {\n    updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\n      if (data.error) {\n        console.log(\"Status update failed\");\n      } else {\n        loadOrders();\n      }\n    });\n  };\n\n  const showStatus = o => (\n    <div className=\"form-group\">\n      <h3 className=\"mark mb-4\">Status: {o.status}</h3>\n      <select\n        className=\"form-control\"\n        onChange={e => handleStatusChange(e, o._id)}\n      >\n        <option>Update Status</option>\n        {statusValues.map((status, index) => (\n          <option key={index} value={status}>\n            {status}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n\n  return (\n    <Layout\n      title=\"Orders\"\n      description={`Good day ${user.name}, you can manage all the orders here`}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-8 offset-md-2\">\n          {showOrdersLength()}\n          {orders.map((o, oIndex) => {\n            return (\n              <div\n                className=\"mt-5\"\n                key={oIndex}\n                style={{ borderBottom: \"5px solid indigo\" }}\n              >\n                <h2 className=\"mb-5\">\n                  {\" \"}\n                  <span className=\"bg-primary\">Order Id: {o._id}</span>\n                </h2>\n                <ul className=\"list-group mb-2\">\n                  <li className=\"list-group-item\">{showStatus(o)}</li>\n                  <li className=\"list-group-item\">\n                    {\" \"}\n                    Transaction ID: {o.transaction_id}\n                  </li>\n                  <li className=\"list-group-item\">Amount: {o.amount}</li>\n                  <li className=\"list-group-item\">\n                    Ordered on: {moment(o.createdAt).fromNow()}\n                  </li>\n                  <li className=\"list-group-item\">Ordered by: {o.user.name}</li>\n                  <li className=\"list-group-item\">\n                    Delivery address: {o.address}\n                  </li>\n                </ul>\n                <h3 className=\"mt-4 mb-4 font-italic\">\n                  Total products in the order: {o.products.length}\n                </h3>\n                {o.products.map((p, pIndex) => (\n                  <div\n                    className=\"mb-4\"\n                    key={pIndex}\n                    style={{ padding: \"20px\", border: \"1px solid indigo\" }}\n                  >\n                    {showInput(\"Product name\", p.name)}\n                    {showInput(\"Product price\", p.price)}\n                    {showInput(\"Product total\", p.count)}\n                    {showInput(\"Product id\", p._id)}\n                  </div>\n                ))}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Orders;\n","import React, { useState } from \"react\";\n\nconst Checkbox = ({ categories, handleFilters }) => {\n  const [checked, setChecked] = useState([]);\n\n  const handleToggle = c => () => {\n    const currentCategoryId = checked.indexOf(c);\n    const newCheckedCategoryId = [...checked];\n\n    if (currentCategoryId === -1) {\n      newCheckedCategoryId.push(c);\n    } else {\n      newCheckedCategoryId.splice(currentCategoryId, 1);\n    }\n    setChecked(newCheckedCategoryId);\n    handleFilters(newCheckedCategoryId);\n  };\n\n  return categories.map((c, i) => (\n    <li key={i} className=\"list-unstyled\">\n      <input\n        onChange={handleToggle(c._id)}\n        value={checked.indexOf(c._id === -1)}\n        type=\"checkbox\"\n        className=\"form-check-input\"\n      />\n      <label className=\"form-check-label\">{c.name}</label>\n    </li>\n  ));\n};\n\nexport default Checkbox;\n","import React, { useState, useEffect, Fragment } from \"react\";\n\nconst RadioBox = ({ prices, handleFilters }) => {\n  const [value, setValue] = useState(0);\n\n  const handleChange = event => {\n    handleFilters(event.target.value);\n    setValue(event.target.value);\n  };\n\n  return prices.map((price, i) => (\n    <div key={i}>\n      <input\n        onChange={handleChange}\n        value={`${price._id}`}\n        name={price}\n        type=\"radio\"\n        className=\"mr-2 ml-4\"\n      />\n      <label className=\"form-check-label\">{price.name}</label>\n    </div>\n  ));\n};\n\nexport default RadioBox;\n","export const prices = [\n  { _id: 0, name: \"Noen\", array: [] },\n  { _id: 1, name: \" 0 - 99 NOK\", array: [0, 99] },\n  { _id: 2, name: \"100 - 199 NOK\", array: [100, 199] },\n  { _id: 3, name: \"200 - 299 NOK\", array: [200, 299] },\n  { _id: 4, name: \"300 - 399 NOK\", array: [300, 399] },\n  { _id: 5, name: \"Mer enn 400 NOK\", array: [400, 1519] }\n];\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport { prices } from \"./fixedPrices\";\nimport { norwegian } from \"../text\";\n\nconst Shop = () => {\n  const [myFilters, setMyFilters] = useState({\n    filters: { category: [], price: [] }\n  });\n  const [categories, setCategories] = useState([]);\n  const [error, setError] = useState(false);\n  const [limit, setLimit] = useState(6);\n  const [skip, setSkip] = useState(0);\n  const [size, setSize] = useState(0);\n  const [filteredResults, setFilteredResults] = useState([]);\n\n  const init = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  const loadFilteredResults = newFilters => {\n    getFilteredProducts(skip, limit, newFilters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults(data.data);\n        setSize(data.size);\n        setSkip(0);\n      }\n    });\n  };\n\n  const loadMore = () => {\n    let toSkip = skip + limit;\n\n    getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setFilteredResults([...filteredResults, ...data.data]);\n        setSize(data.size);\n        setSkip(toSkip);\n      }\n    });\n  };\n\n  const loadMoreButton = () => {\n    return (\n      size > 0 &&\n      size >= limit && (\n        <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n          Load more\n        </button>\n      )\n    );\n  };\n\n  useEffect(() => {\n    init();\n    loadFilteredResults(skip, limit, myFilters.filters);\n  }, []);\n\n  const handleFilters = (filters, filterBy) => {\n    const newFilters = { ...myFilters };\n    newFilters.filters[filterBy] = filters;\n\n    if (filterBy === \"price\") {\n      let priceValues = handlePrice(filters);\n      newFilters.filters[filterBy] = priceValues;\n    }\n    loadFilteredResults(myFilters.filters);\n    setMyFilters(newFilters);\n  };\n\n  const handlePrice = value => {\n    const data = prices;\n    let array = [];\n\n    for (let key in data) {\n      if (data[key]._id === parseInt(value)) {\n        array = data[key].array;\n      }\n    }\n    return array;\n  };\n\n  return (\n    <Layout\n      title=\"Shop\"\n      description=\"Search and find stuff of your choice\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-4\">\n          <h4>{norwegian.filterByCategories}</h4>\n          <ul>\n            <Checkbox\n              categories={categories}\n              handleFilters={filters => handleFilters(filters, \"category\")}\n            />\n          </ul>\n          <h4>{norwegian.filterByPrice}</h4>\n          <div>\n            <RadioBox\n              prices={prices}\n              handleFilters={filters => handleFilters(filters, \"price\")}\n            />\n          </div>\n        </div>\n        <div className=\"col-8\">\n          <h2 className=\"mb-4\">{norwegian.products}</h2>\n          <div className=\"row\">\n            {filteredResults.map((product, i) => (\n              <div key={i} className=\"col-4 mb-3\">\n                <Card product={product} />\n              </div>\n            ))}\n          </div>\n          <hr />\n          {loadMoreButton()}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { read, listRelated } from \"./apiCore\";\nimport Card from \"./Card\";\nimport { norwegian } from \"../text\";\n\nconst Product = props => {\n  const [relatedProduct, setRelatedProduct] = useState([]);\n  const [product, setProduct] = useState({});\n  const [error, setError] = useState(false);\n\n  const loadSingleProduct = productId => {\n    read(productId).then(data => {\n      if (data.error) {\n        setError(data.error);\n      } else {\n        setProduct(data);\n\n        listRelated(data._id).then(data => {\n          if (data.error) {\n            setError(data.error);\n          } else {\n            setRelatedProduct(data);\n          }\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    const productId = props.match.params.productId;\n    loadSingleProduct(productId);\n  }, [props]);\n\n  return (\n    <Layout\n      title={product && product.name}\n      description={\n        product && product.description && product.description.substring(0, 100)\n      }\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-8\">\n          {product && product.description && (\n            <Card product={product} showViewProductButton={false} />\n          )}\n        </div>\n        <div className=\"col-4\">\n          <h4>{norwegian.relatedProducts}</h4>\n          {relatedProduct.map((p, i) => (\n            <div className=\"mb-3\">\n              <Card key={i} product={p} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Product;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  getProducts,\n  getBraintreeClientToken,\n  processPayment,\n  createOrder\n} from \"./apiCore\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport DropIn from \"braintree-web-drop-in-react\";\nimport { emptyCart } from \"./cartHelpers\";\n\nconst Checkout = ({ products }) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\",\n    instance: {},\n    address: \"\"\n  });\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const getToken = (userId, token) => {\n    getBraintreeClientToken(userId, token).then(data => {\n      if (data.error) {\n        setData({ ...data, error: data.error });\n      } else {\n        setData({ clientToken: data.clientToken });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n\n  const handleAddress = event => {\n    setData({ ...data, address: event.target.value });\n  };\n\n  const getTotal = () => {\n    return products.reduce((currentValue, nextValue) => {\n      return currentValue + nextValue.count * nextValue.price;\n    }, 0);\n  };\n\n  const showCheckout = () => {\n    return isAuthenticated() ? (\n      <div>{showDropIn()}</div>\n    ) : (\n      <Link to=\"/signin\">\n        <button className=\"btn btn-primary\">Sign in to checkout</button>\n      </Link>\n    );\n  };\n\n  const deliveryAddress = data.address;\n\n  const buy = () => {\n    setData({ loading: true });\n\n    let nonce;\n\n    let getNonce = data.instance\n      .requestPaymentMethod()\n      .then(data => {\n        nonce = data.nonce;\n\n        const paymentData = {\n          paymentMethodNonce: nonce,\n          amount: getTotal(products)\n        };\n\n        processPayment(userId, token, paymentData)\n          .then(response => {\n            console.log(\"dadadadada\", data);\n\n            const createOrderData = {\n              products: products,\n              transaction_id: response.transaction.id,\n              amount: response.transaction.amount,\n              address: deliveryAddress\n            };\n\n            createOrder(userId, token, createOrderData).then(response => {\n              emptyCart(() => {\n                console.log(\"payment success\");\n\n                setData({ loading: false, success: true });\n              });\n              setData({ loading: false, success: true });\n            });\n          })\n          .catch(error => {\n            console.log(error);\n            setData({ loading: false });\n          });\n      })\n\n      .catch(error => {\n        console.log(error);\n        setData({ loading: false });\n      })\n\n      .catch(error => {\n        setData({ ...data, error: error.message });\n      });\n  };\n\n  const showDropIn = () => (\n    <div\n      onBlur={() => {\n        setData({ ...data, error: \"\" });\n      }}\n    >\n      {data.clientToken !== null && products.length > 0 ? (\n        <div>\n          <div className=\"form-group mb-3\">\n            <label className=\"text-muted\">Delivery address:</label>\n            <textarea\n              onChange={handleAddress}\n              className=\"form-control\"\n              value={data.address}\n              placeholder=\"Type your delivery address here ...\"\n            />\n          </div>\n\n          <DropIn\n            options={{\n              authorization: data.clientToken,\n              paypal: {\n                flow: \"vault\"\n              }\n            }}\n            onInstance={instance => (data.instance = instance)}\n          />\n          <button onClick={buy} className=\"btn btn-success btn-block\">\n            Pay\n          </button>\n        </div>\n      ) : null}\n    </div>\n  );\n\n  const showError = error => (\n    <div\n      className=\"alert alert-danger\"\n      style={{ display: error ? \"\" : \"none\" }}\n    >\n      {error}\n    </div>\n  );\n\n  const showSuccess = success => (\n    <div\n      className=\"alert alert-info\"\n      style={{ display: success ? \"\" : \"none\" }}\n    >\n      Thanks your payment was successful\n    </div>\n  );\n\n  const showLoading = loading =>\n    loading && <h2 className=\"text-danger\">Loading...</h2>;\n\n  return (\n    <div>\n      {\" \"}\n      <h2>Total: {getTotal()} NOK</h2>\n      {showLoading(data.loading)}\n      {showSuccess(data.success)}\n      {showError(data.error)}\n      {showCheckout()}\n    </div>\n  );\n};\n\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { getCart } from \"./cartHelpers\";\nimport Card from \"./Card\";\nimport { Link } from \"react-router-dom\";\nimport Checkout from \"./Checkout\";\nimport { norwegian } from \"../text\";\n\nconst Cart = () => {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    setItems(getCart());\n  }, [items]);\n\n  const showItems = items => {\n    return (\n      <div>\n        <h2>\n          {norwegian.yourCartHas}\n          {` ${items.length} `}\n          {norwegian.items}\n        </h2>\n        <hr />\n        {items.map((product, i) => (\n          <Card\n            key={i}\n            product={product}\n            showAddToCartButton={false}\n            cartUpdate={true}\n            showRemoveProductButton={true}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const noItemsMessage = () => (\n    <h2>\n      Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\n    </h2>\n  );\n\n  return (\n    <Layout\n      title=\"Shopping Cart\"\n      description=\"Manage your cart items. Add remove checkout or continue shopping\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-6\">\n          {items.length > 0 ? showItems(items) : noItemsMessage()}\n        </div>\n        <div className=\"col-6\">\n          <h2 className=\"mb-4\">{norwegian.yourCartSummary}</h2>\n          <hr />\n          <Checkout products={items} />\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Cart;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\nimport { norwegian } from \"../text\";\n\nconst Profile = ({ match }) => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    phone: \"\",\n    error: false,\n    success: false\n  });\n\n  const { token } = isAuthenticated();\n\n  const { name, email, password, error, success, phone } = values;\n\n  const init = userId => {\n    read(userId, token).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: true });\n      } else {\n        setValues({\n          ...values,\n          name: data.name,\n          email: data.email,\n          phone: data.phone\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.userId);\n  }, []);\n\n  const handleChange = name => e => {\n    setValues({ ...values, error: false, [name]: e.target.value });\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    update(match.params.userId, token, { name, email, password, phone }).then(\n      data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          updateUser(data, () => {\n            setValues({\n              ...values,\n              name: data.name,\n              email: data.email,\n              phone: data.phone,\n              success: true\n            });\n          });\n        }\n      }\n    );\n  };\n\n  const redirectUser = success => {\n    if (success) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const profileUpdate = (name, email, password, phone) => (\n    <form>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.name}</label>\n        <input\n          type=\"text\"\n          onChange={handleChange(\"name\")}\n          className=\"form-control\"\n          value={name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.email}</label>\n        <input\n          type=\"email\"\n          onChange={handleChange(\"email\")}\n          className=\"form-control\"\n          value={email}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.password}</label>\n        <input\n          type=\"password\"\n          onChange={handleChange(\"password\")}\n          className=\"form-control\"\n          value={password}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label className=\"text-muted\">{norwegian.phone}</label>\n        <input\n          type=\"phone\"\n          onChange={handleChange(\"phone\")}\n          className=\"form-control\"\n          value={phone}\n        />\n      </div>\n      <button onClick={clickSubmit} className=\"btn btn-primary\">\n        {norwegian.submit}\n      </button>\n    </form>\n  );\n\n  return (\n    <Layout\n      title=\"Profile\"\n      description=\"Update your profile\"\n      className=\"container-fluid\"\n    >\n      {\" \"}\n      <h2 className=\"mb-4\">{norwegian.profileUpdate}</h2>\n      {profileUpdate(name, email, password, phone)}\n      {redirectUser(success)}\n    </Layout>\n  );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const loadProducts = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  const destroy = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  return (\n    <Layout\n      title=\"Manage Products\"\n      description=\"Perform CRUD on products\"\n      className=\"container-fluid\"\n    >\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"text-center\">Total {products.length} products</h2>\n          <hr />\n          <ul className=\"list-group\">\n            {products.map((p, i) => (\n              <li\n                key={i}\n                className=\"list-group-item d-flex justify-content-between align-items-center\"\n              >\n                <strong>{p.name}</strong>\n                <Link to={`/admin/product/update/${p._id}`}>\n                  <span className=\"badge badge-warning badge-pill\">Update</span>\n                </Link>\n\n                <span\n                  onClick={() => destroy(p._id)}\n                  className=\"badge badge-danger badge-pill\"\n                >\n                  Delete\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default ManageProducts;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"; //will make the props available for all the nested components.\nimport Signin from \"./user/Signin\";\nimport Signup from \"./user/Signup\";\nimport Home from \"./core/Home\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Dashboard from \"./user/UserDashboard\";\nimport AdminRoute from \"./auth/AdminRoute\";\nimport AdminDashboard from \"./user/AdminDashboard\";\nimport AddCategory from \"./admin/AddCategory\";\nimport AddProduct from \"./admin/AddProduct\";\nimport UpdateProduct from \"./admin/UpdateProduct\";\nimport Orders from \"./admin/Orders\";\nimport Shop from \"./core/Shop\";\nimport Product from \"./core/Product\";\nimport Cart from \"./core/Cart\";\nimport Profile from \"./user/Profile\";\nimport ManageProducts from \"./admin/ManageProducts\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/shop\" exact component={Shop} />\n        <Route path=\"/signin\" exact component={Signin} />\n        <Route path=\"/signup\" exact component={Signup} />\n        <PrivateRoute path=\"/user/dashboard\" exact component={Dashboard} />\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\n        <AdminRoute path=\"/create/category\" exact component={AddCategory} />\n        <AdminRoute path=\"/create/product\" exact component={AddProduct} />\n        <AdminRoute\n          path=\"/admin/product/update/:productId\"\n          exact\n          component={UpdateProduct}\n        />\n        <AdminRoute path=\"/admin/orders\" exact component={Orders} />\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\n        <Route path=\"/product/:productId\" exact component={Product} />\n        <Route path=\"/cart\" exact component={Cart} />\n        <PrivateRoute path=\"/profile/:userId\" exact component={Profile} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}